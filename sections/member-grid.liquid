<link rel='stylesheet' href='{{ 'member-grid.css' | asset_url }}'>

<div class='member-grid'>
  <div class='container'>
    <div class='member-banner btn'>
      <a href='https://eu.atomstack.com/pages/atomstack-member-day#smile-home'>
        <picture>
          <source media='(max-width: 1000px)' srcset='{{ section.settings.mb_img | image_url}}'>
          <source media='(min-width: 1000px)' srcset='{{ section.settings.pc_img | image_url}}'>
          <img
            src='{{ section.settings.pc_img | image_url }}'
            alt='img'
            width='100%'
            height='100%'
          >
        </picture>
      </a>
      {% comment %} <div class='btn'>Redeem Now</div> {% endcomment %}
    </div>
    <div class='member-grid-container'>
      {% for block in section.blocks %}
        <div class='member-grid-item'>
          <a href='{{ block.settings.link }}'>
            <picture>
              <source media='(max-width: 1000px)' srcset='{{ block.settings.mb_img | image_url}}'>
              <source media='(min-width: 1000px)' srcset='{{ block.settings.pc_img | image_url}}'>
              <img
                src='{{ block.settings.pc_img | image_url }}'
                alt='img'
                width='100%'
                height='100%'
              >
            </picture>
          </a>
          {% comment %}
            {% if block.settings.link != '' %}
              <a class='block-btn' href='{{ block.settings.link }}'>Earn Now</a>
            {% else %}
              <div class='block-btn'>Earn Now</div>
            {% endif %}
          {% endcomment %}
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<script>
  document.querySelector('.member-banner.btn').addEventListener('click', () => {
    SmileUI?.openPanel();
  });
</script>

{% schema %}
{
  "name": "member-grid",
  "settings": [
    {
      "type": "image_picker",
      "id": "pc_img",
      "label": "pc image"
    },
    {
      "type": "image_picker",
      "id": "mb_img",
      "label": "mb image"
    }
  ],
  "blocks": [
    {
      "type": "member-grid",
      "name": "member-grid",
      "settings": [
        {
          "type": "image_picker",
          "id": "pc_img",
          "label": "pc image"
        },
        {
          "type": "image_picker",
          "id": "mb_img",
          "label": "mb image"
        },
        {
          "type": "text",
          "id": "link",
          "label": "link"
        }
      ]
    }
  ],

  "presets": [
    {
      "name": "member-grid"
    }
  ]
}
{% endschema %}
